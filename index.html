<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bailgram</title>

<style>
body{
margin:0;
font-family:Arial,sans-serif;
background:linear-gradient(135deg,#1e1b4b,#312e81);
color:white;
}

/* HEADER */
.header{
padding:15px;
font-size:22px;
font-weight:bold;
}

/* PAGES */
.page{
display:none;
padding:10px;
padding-bottom:120px;
}

.active-page{
display:block;
}

/* CHAT LIST */
.chat{
display:flex;
align-items:center;
padding:12px;
margin-bottom:10px;
border-radius:15px;
background:rgba(255,255,255,0.08);
cursor:pointer;
}

.chat img{
width:45px;
height:45px;
border-radius:50%;
margin-right:10px;
}

/* CHAT WINDOW */
.chat-window{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#111;
flex-direction:column;
}

.chat-header{
padding:15px;
background:#1c1c1c;
display:flex;
align-items:center;
}

.back-btn{
margin-right:15px;
cursor:pointer;
color:#ff4d6d;
font-weight:bold;
}

.messages{
flex:1;
padding:15px;
overflow-y:auto;
}

.message{
margin-bottom:10px;
max-width:70%;
padding:10px;
border-radius:15px;
font-size:14px;
}

.sent{
background:#ff0057;
margin-left:auto;
}

.received{
background:#333;
}

/* INPUT */
.input-area{
display:flex;
padding:10px;
background:#1c1c1c;
}

.input-area input{
flex:1;
padding:10px;
border:none;
border-radius:20px;
outline:none;
}

.send-btn{
margin-left:10px;
padding:10px 15px;
border:none;
border-radius:20px;
background:#ff0057;
color:white;
cursor:pointer;
}

/* BOTTOM NAV */
.bottom-nav{
position:fixed;
bottom:15px;
left:50%;
transform:translateX(-50%);
width:90%;
height:65px;
background:rgba(0,0,0,0.7);
border-radius:30px;
display:flex;
justify-content:space-around;
align-items:center;
}

.nav-item{
cursor:pointer;
opacity:0.7;
}

.nav-item.active{
opacity:1;
font-weight:bold;
}
</style>
</head>
<body>

<div class="header">Bailgram Messages</div>

<!-- CHATS PAGE -->
<div class="page active-page" id="chatsPage">
<div class="chat" onclick="openChat('AntiBail Bot')">
<img src="https://i.pravatar.cc/150?img=12">
<div>AntiBail Bot</div>
</div>
</div>

<!-- PROFILE PAGE -->
<div class="page" id="profilePage">
<h3>Profil sahifasi</h3>
<p>Ism: Foydalanuvchi</p>
</div>

<!-- CONTACTS PAGE -->
<div class="page" id="contactsPage">
<h3>Kontaktlar</h3>
<p>Kontaktlar ro'yxati shu yerda bo'ladi</p>
</div>

<!-- SETTINGS PAGE -->
<div class="page" id="settingsPage">
<h3>Sozlamalar</h3>
<p>Til, xavfsizlik va boshqalar</p>
</div>

<!-- CHAT WINDOW -->
<div class="chat-window" id="chatWindow">

<div class="chat-header">
<div class="back-btn" onclick="closeChat()">â¬…</div>
<div id="chatTitle"></div>
</div>

<div class="messages" id="messages"></div>

<div class="input-area">
<input type="text" id="messageInput" placeholder="Xabar yozing...">
<button class="send-btn" onclick="sendMessage()">Yuborish</button>
</div>

</div>

<!-- BOTTOM NAV -->
<div class="bottom-nav" id="bottomNav">
<div class="nav-item active" onclick="showPage('chatsPage',this)">Chats</div>
<div class="nav-item" onclick="showPage('profilePage',this)">Profile</div>
<div class="nav-item" onclick="showPage('contactsPage',this)">Contacts</div>
<div class="nav-item" onclick="showPage('settingsPage',this)">Settings</div>
</div>

<script>

let currentChat="";

function showPage(pageId,el){
document.querySelectorAll(".page").forEach(p=>p.classList.remove("active-page"));
document.getElementById(pageId).classList.add("active-page");

document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
el.classList.add("active");
}

function openChat(name){
currentChat=name;
document.getElementById("chatTitle").innerText=name;
document.getElementById("chatWindow").style.display="flex";
document.getElementById("bottomNav").style.display="none";
loadMessages();
}

function closeChat(){
document.getElementById("chatWindow").style.display="none";
document.getElementById("bottomNav").style.display="flex";
}

function sendMessage(){
let input=document.getElementById("messageInput");
let text=input.value.trim();
if(text==="")return;

saveMessage(text,"sent");
addMessage(text,"sent");
input.value="";

setTimeout(()=>{
let reply="Rasmiy kod: 847392";
saveMessage(reply,"received");
addMessage(reply,"received");
},800);
}

function addMessage(text,type){
let msg=document.createElement("div");
msg.classList.add("message",type);
msg.innerText=text;
document.getElementById("messages").appendChild(msg);
document.getElementById("messages").scrollTop=999999;
}

function saveMessage(text,type){
let data=JSON.parse(localStorage.getItem(currentChat))||[];
data.push({text,type});
localStorage.setItem(currentChat,JSON.stringify(data));
}

function loadMessages(){
document.getElementById("messages").innerHTML="";
let data=JSON.parse(localStorage.getItem(currentChat))||[];
data.forEach(m=>addMessage(m.text,m.type));
}

document.getElementById("messageInput").addEventListener("keypress",function(e){
if(e.key==="Enter") sendMessage();
});

</script>

</body>
</html>