<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bailgram</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#0f172a;
color:white;
}

/* LOGIN */
#loginPage{
display:flex;
height:100vh;
justify-content:center;
align-items:center;
flex-direction:column;
}

input{
padding:12px;
width:220px;
border:none;
border-radius:8px;
margin-bottom:10px;
}

button{
padding:12px 20px;
border:none;
border-radius:8px;
background:#2563eb;
color:white;
cursor:pointer;
}

/* CHAT PAGE */
#chatPage{
display:none;
height:100vh;
flex-direction:column;
}

.topbar{
background:#1e293b;
padding:15px;
text-align:center;
font-weight:bold;
}

.messages{
flex:1;
padding:10px;
overflow-y:auto;
}

.message{
background:#1e293b;
padding:8px 12px;
border-radius:10px;
margin-bottom:8px;
max-width:70%;
}

.bottom{
display:flex;
padding:10px;
background:#1e293b;
}

.bottom input{
flex:1;
margin:0;
margin-right:10px;
}
</style>
</head>

<body>

<div id="loginPage">
<h2>Bailgram</h2>
<input type="text" id="username" placeholder="Username kiriting">
<button onclick="login()">Kirish</button>
</div>

<div id="chatPage">
<div class="topbar">Bailgram Chat</div>
<div class="messages" id="messages"></div>
<div class="bottom">
<input type="text" id="msgInput" placeholder="Xabar yozing...">
<button onclick="sendMessage()">Yuborish</button>
</div>
</div>

<script>

function login(){
let username = document.getElementById("username").value;
if(username.trim() === "") return alert("Username kiriting");

localStorage.setItem("user", username);

document.getElementById("loginPage").style.display="none";
document.getElementById("chatPage").style.display="flex";
}

function sendMessage(){
let input = document.getElementById("msgInput");
let text = input.value;

if(text.trim()==="") return;

let messagesDiv = document.getElementById("messages");

let msg = document.createElement("div");
msg.className="message";
msg.innerText = localStorage.getItem("user") + ": " + text;

messagesDiv.appendChild(msg);

input.value="";
messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

</script>

</body>
</html>